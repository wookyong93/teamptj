<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- 21/04/12 권우경 작성 -->

<!-- namespace 지정 -->
	<mapper namespace="mapper.member">
<!--resultMap 설정-->

	<resultMap id="memResult" type="memberVO">
		<result property="id" column="id"/>
		<result property="pwd" column="pwd"/>
		<result property="joinDate" column="joinDate"/>
	</resultMap>
	
	<!-- 로그인 sql문 -->
	<select id="loginCheck" parameterType="memberVO">
		<![CDATA[
			SELECT DECODE(COUNT(*),1,'ture','false') AS result FROM f_member WHERE id=#{id} AND pwd=#{pwd}
		]]>
	</select>
	
<!-- 21/04/12 이소정 작성 -->
	<!-- 가입된 회원 목록 sql문 -->
	<select id="listMember" resultMap="memResult">
		<![CDATA[
			select * from f_member
			order by id desc
		]]>
	</select>
	
	
	<!-- 회원 추가 sql문 -->
	<insert id="addMember" parameterType="MemberVO">
		<![CDATA[
			insert into f_member(id,pwd) values
			(#{id}, #{pwd})
		]]>
	</insert>
	
	<!-- 회원 삭제 sql문 -->
	<delete id="delMember" parameterType="String">
		<![CDATA[
			delete from f_member
			where id=#{id} 
		]]>
	</delete>
	
	<!-- 21/04/12 강민경 작성 -->
	<!-- 회원 수정 sql문 -->
	<update id="modMember" parameterType="MemberVO">
		<![CDATA[
			update f_member set
			pwd=#{pwd} 
			where id=#{id}
		]]>
	</update>
	
	<!-- 지정ID 정보 불러오는 sql문 -->
	<select id="viewMember" parameterType="String" resultMap="memResult">
		<![CDATA[
			select * from f_member
			where id=#{id}
		]]>
	</select>
	
	
</mapper>